(this["webpackJsonp@open-rpc/inspector"]=this["webpackJsonp@open-rpc/inspector"]||[]).push([[1],{284:function(e,t,n){e.exports=n(387)},383:function(e,t,n){},384:function(e,t,n){},387:function(e,t,n){"use strict";n.r(t);var r=n(166),a=n.n(r),o=n(9),c=n.n(o),i=n(112),u=n(412),p=n(407),s=n(197),l=n(214),d=n.n(l),m=Object(s.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},overrides:{MuiAppBar:{root:{background:"#fff !important"}}},palette:{background:{default:"#fff"}}}),f=Object(s.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},palette:{type:"dark",background:{default:d.a[900],paper:d.a[800]}},overrides:{MuiAppBar:{root:{background:"transparent !important"}},MuiTable:{root:{background:"transparent !important"}},MuiTypography:{root:{color:d.a[400]}}}}),g=n(268),b=n(259),h=n.n(b),j=n(161),O=n(277),v=n(199),y=n.n(v),E=n(153),M=n(271),k=n.n(M),x=n(272),S=function(e){var t=Object(o.useRef)(),n=k()();Object(o.useEffect)((function(){void 0!==t&&void 0!==t.current&&t.current.layout()}),[n]);return c.a.createElement(y.a,{height:"93vh",value:e.value,editorDidMount:function(n,r){t.current=r;var a=e.openrpcMethodObject?e.openrpcMethodObject.name:"inspector",o="inmemory://".concat(a,"-").concat(Math.random(),".json"),c=E.Uri.parse(o),i=E.editor.createModel(e.value||"","json",c);r.setModel(i);var u={type:"object",properties:{jsonrpc:{type:"string",enum:["2.0"]},id:{oneOf:[{type:"string"},{type:"number"}]},method:{type:"string"},params:{type:"array"}}};e.openrpcMethodObject&&(u=Object(j.a)({},u,{additionalProperties:!1,properties:Object(j.a)({},u.properties,{method:{type:"string",enum:[e.openrpcMethodObject.name]},params:Object(j.a)({},u.properties.params,{items:e.openrpcMethodObject.params.map((function(e){return Object(j.a)({},e.schema,{additionalProperties:!1})}))})})})),Object(x.addDiagnostics)(c.toString(),u,E)},language:"json",onChange:function(t,n){e.onChange&&e.onChange(n)}})},w=n(273),T=n.n(w),C=n(414),I=n(408),R=n(409),P=n(410),D=n(413),J=n(411),N=n(183),q=n(274),z=n.n(q),B=n(275),A=n.n(B),F=function(e){if(e)return{code:e.code,message:e.message,data:e.data}};var U=function(e){var t=function(e){var t=Object(o.useState)(e),n=Object(i.a)(t,2),r=n[0],a=n[1];return[r,function(){a(r+1)}]}(0),n=Object(i.a)(t,2),r=n[0],a=n[1],u=Object(o.useState)(e.request||{jsonrpc:"2.0",method:"",params:[],id:r}),p=Object(i.a)(u,2),s=p[0],l=p[1],d=Object(o.useRef)(),m=Object(o.useState)(),f=Object(i.a)(m,2),g=f[0],b=f[1],v=Object(o.useState)(e.url||""),E=Object(i.a)(v,2),M=E[0],k=E[1],x=function(e){var t=Object(o.useState)(),n=Object(i.a)(t,2),r=n[0],a=n[1],c=Object(o.useState)(),u=Object(i.a)(c,2),p=u[0],s=u[1];return Object(o.useEffect)((function(){var t;(e.includes("http://")||e.includes("https://"))&&(t=N.HTTPTransport),e.includes("ws://")&&(t=N.WebSocketTransport);try{var n=new(t||N.HTTPTransport)(e),r=new N.Client(new N.RequestManager([n]));a(r),r.onError((function(e){console.log("onError",e),s(e)}))}catch(o){s(o)}}),[e]),[r,p,s]}(M),w=Object(i.a)(x,3),q=w[0],B=w[1],U=w[2];Object(o.useEffect)((function(){e.openrpcMethodObject&&l({jsonrpc:"2.0",method:e.openrpcMethodObject.name,params:s.params,id:r.toString()})}),[]),Object(o.useEffect)((function(){s&&l(Object(j.a)({},s,{jsonrpc:"2.0",id:r.toString()}))}),[r]),Object(o.useEffect)((function(){e.url&&k(e.url)}),[e.url]);var W=function(){b(void 0),U(void 0)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{elevation:0,position:"static"},c.a.createElement(I.a,null,c.a.createElement("img",{height:"30",alt:"openrpc-logo",style:{marginRight:"10px"},src:"https://github.com/open-rpc/design/raw/master/icons/open-rpc-logo-noText/open-rpc-logo-noText%20(PNG)/128x128.png"}),c.a.createElement(R.a,{variant:"h6",color:"textSecondary"},"Inspector"),c.a.createElement(P.a,{onClick:function(){var e;return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(W(),!q){t.next=13;break}return a(),t.prev=3,t.next=6,h.a.awrap(q.request(s.method,s.params));case 6:e=t.sent,b({jsonrpc:"2.0",result:e,id:r}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),U(t.t0);case 13:case"end":return t.stop()}}),null,null,[[3,10]])}},c.a.createElement(T.a,null)),c.a.createElement(D.a,{value:M,placeholder:"Enter a JSON-RPC server URL",onChange:function(e){return k(e.target.value)},fullWidth:!0,style:{background:"rgba(0,0,0,0.1)",borderRadius:"4px",padding:"0px 10px",marginRight:"5px"}}),e.hideToggleTheme?null:c.a.createElement(P.a,{onClick:function(){e.onToggleDarkMode&&e.onToggleDarkMode()}},e.darkMode?c.a.createElement(z.a,null):c.a.createElement(A.a,null)))),c.a.createElement(O.a,{split:"vertical",minSize:100,maxSize:-100,defaultSize:"50%",style:{flexGrow:1},onChange:function(){d&&d.current&&d.current.layout()}},c.a.createElement(S,{onChange:function(e){l(JSON.parse(e))},openrpcMethodObject:e.openrpcMethodObject,value:JSON.stringify(s,null,4)}),c.a.createElement(c.a.Fragment,null,(g||B)&&c.a.createElement(J.a,{style:{position:"absolute",top:"15px",right:"15px",zIndex:1},onClick:function(){W()}},"Clear"),c.a.createElement(y.a,{options:{minimap:{enabled:!1},wordWrap:"on",lineNumbers:"off",wrappingIndent:"deepIndent",readOnly:!0,showFoldingControls:"always"},height:"93vh",editorDidMount:function(e,t){d.current=t},language:"json",value:JSON.stringify(F(B)||g,null,4)||""}))))},W=n(276),G=function(e){var t=Object(o.useState)(W.parse(window.location.search,{ignoreQueryPrefix:!0,depth:e||100,decoder:function(e){return/^(\d+|\d*\.\d+)$/.test(e)?parseFloat(e):"false"!==e&&("true"===e||decodeURIComponent(e))}}));return[Object(i.a)(t,1)[0]]},H=!0;try{window.localStorage.setItem("xyz-test","true")}catch($){H=!1,console.error($)}var L=H?void 0:{storageProvider:{localStorage:{length:0,clear:function(){},getItem:function(){return""},key:function(){return""},removeItem:function(){},setItem:function(){}}}},Q=function(){var e=Object(g.a)(void 0,L),t=G(),n=Object(i.a)(t,1)[0],r=e.value?f:m;return Object(o.useEffect)((function(){var t=e.value?"vs-dark":"vs";E.editor.setTheme(t)}),[e.value]),c.a.createElement(p.a,{theme:r},c.a.createElement(u.a,null),c.a.createElement(U,{onToggleDarkMode:e.toggle,darkMode:e.value,url:n.url,openrpcMethodObject:n.openrpcMethodObject,request:n.request}))};n(383),n(384);a.a.render(c.a.createElement(Q,null),document.getElementById("root"))}},[[284,2,3]]]);
//# sourceMappingURL=main.7177beba.chunk.js.map